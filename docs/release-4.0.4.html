<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>A.12. Release 4.0.4</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><meta name="keywords" content="ltcluster, LightDB, replication, asynchronous, HA, high-availability" /><link rel="prev" href="release-4.0.5.html" title="A.11. Release 4.0.5" /><link rel="next" href="release-4.0.3.html" title="A.13. Release 4.0.3" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">A.12. Release 4.0.4</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="release-4.0.5.html" title="A.11. Release 4.0.5">Prev</a> </td><td width="10%" align="left"><a accesskey="u" href="appendix-release-notes.html" title="Appendix A. Release notes">Up</a></td><th width="60%" align="center">Appendix A. Release notes</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="ltcluster 5.2.1 Documentation">Home</a></td><td width="10%" align="right"> <a accesskey="n" href="release-4.0.3.html" title="A.13. Release 4.0.3">Next</a></td></tr></table><hr></hr></div><div class="sect1" id="RELEASE-4.0.4"><div class="titlepage"><div><div><h2 class="title" style="clear: both">A.12. Release 4.0.4</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="sect2"><a href="release-4.0.4.html#id-1.7.16.6">A.12.1. Usability enhancements</a></span></dt><dt><span class="sect2"><a href="release-4.0.4.html#id-1.7.16.7">A.12.2. Bug fixes</a></span></dt></dl></div><p><span class="emphasis"><em>Fri Mar 9, 2018</em></span></p><p>
      <span class="productname">ltcluster</span> 4.0.4 contains some bug fixes and and a number of
      usability enhancements related to logging/diagnostics,
      event notifications and pre-action checks.
    </p><p>
      This release can be installed as a simple package upgrade from ltcluster 4.0 ~ 4.0.3;
      <span class="productname">ltclusterd</span> (if running) should be restarted. See <a class="xref" href="upgrading-ltcluster.html" title="Chapter 10. Upgrading ltcluster">Upgrading ltcluster</a>
      for more details.
    </p><div class="note"><h3 class="title">Note</h3><p>
        It is not possible to perform a switchover where the demotion candidate is
        running <span class="productname">ltcluster</span> 4.0.2 or lower; all nodes should be upgraded to the latest version (4.0.4).
        This is due to additional checks introduced in 4.0.3 which require the presence of
        4.0.3 or later versions on all nodes.
      </p></div><div class="sect2" id="id-1.7.16.6"><div class="titlepage"><div><div><h3 class="title">A.12.1. Usability enhancements</h3></div></div></div><p>
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              add <code class="command"><a class="link" href="ltcluster-standby-clone.html" title="ltcluster standby clone">ltcluster standby clone --recovery-conf-only</a></code>
              option to enable integration of a standby cloned from another source into a <span class="productname">ltcluster</span> cluster (GitHub #382)
            </p></li><li class="listitem"><p>
              remove restriction on using replication slots when cloning from a Barman server (GitHub #379)
            </p></li><li class="listitem"><p>
              make <code class="command"><a class="link" href="ltcluster-standby-promote.html" title="ltcluster standby promote">ltcluster standby promote</a></code>
              timeout values configurable (GitHub #387)
            </p></li><li class="listitem"><p>
              add missing options to main <code class="literal">--help</code> output (GitHub #391, #392)
            </p></li></ul></div><p>
      </p></div><div class="sect2" id="id-1.7.16.7"><div class="titlepage"><div><div><h3 class="title">A.12.2. Bug fixes</h3></div></div></div><p>

        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              ensure <code class="command"><a class="link" href="ltcluster-node-rejoin.html" title="ltcluster node rejoin">ltcluster node rejoin</a></code>
              honours the <code class="option">--dry-run</code> option (GitHub #383)
           </p></li><li class="listitem"><p>
              improve replication slot warnings generated by
              <code class="command"><a class="link" href="ltcluster-node-status.html" title="ltcluster node status">ltcluster node status</a></code>
              (GitHub #385)
            </p></li><li class="listitem"><p>
              fix --superuser handling when cloning a standby (GitHub #380)
           </p></li><li class="listitem"><p>
              <span class="productname">ltclusterd</span>: improve detection of status change from primary to
              standby
           </p></li><li class="listitem"><p>
              <span class="productname">ltclusterd</span>:  improve reconnection to the local node after a
              failover (previously a connection error due to the node starting up was being
              interpreted as the node being unavailable)
           </p></li><li class="listitem"><p>
              <span class="productname">ltclusterd</span>: when running on a witness server, correctly connect
              to new primary after a failover
           </p></li><li class="listitem"><p>
              <span class="productname">ltclusterd</span>: add <a class="link" href="event-notifications.html" title="Chapter 9. Event Notifications">event notification</a>
              <code class="literal">ltclusterd_shutdown</code> (GitHub #393)
           </p></li></ul></div><p>

      </p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="release-4.0.5.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="appendix-release-notes.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="release-4.0.3.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">A.11. Release 4.0.5 </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> A.13. Release 4.0.3</td></tr></table></div></body></html>