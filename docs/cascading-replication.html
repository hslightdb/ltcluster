<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>10.6. ltclusterd and cascading replication</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><meta name="keywords" content="ltcluster, LightDB, replication, asynchronous, HA, high-availability" /><link rel="prev" href="ltclusterd-failover-validation.html" title="10.5. Failover validation" /><link rel="next" href="ltclusterd-primary-child-disconnection.html" title="10.7. Monitoring standby disconnections on the primary node" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">10.6. ltclusterd and cascading replication</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="ltclusterd-failover-validation.html" title="10.5. Failover validation">Prev</a> </td><td width="10%" align="left"><a accesskey="u" href="ltclusterd-automatic-failover.html" title="Chapter 10. Automatic failover with ltclusterd">Up</a></td><th width="60%" align="center">Chapter 10. Automatic failover with ltclusterd</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="ltcluster 5.2.1 Documentation">Home</a></td><td width="10%" align="right"> <a accesskey="n" href="ltclusterd-primary-child-disconnection.html" title="10.7. Monitoring standby disconnections on the primary node">Next</a></td></tr></table><hr></hr></div><div class="sect1" id="CASCADING-REPLICATION"><div class="titlepage"><div><div><h2 class="title" style="clear: both">10.6. ltclusterd and cascading replication</h2></div></div></div><a id="id-1.5.3.9.2" class="indexterm"></a><a id="id-1.5.3.9.3" class="indexterm"></a><p>
  Cascading replication - where a standby can connect to an upstream node and not
  the primary server itself - was introduced in LightDB 21. <span class="productname">ltcluster</span> and
  <span class="productname">ltclusterd</span> support cascading replication by keeping track of the relationship
  between standby servers - each node record is stored with the node id of its
  upstream ("parent") server (except of course the primary server).
 </p><p>
  In a failover situation where the primary node fails and a top-level standby
  is promoted, a standby connected to another standby will not be affected
  and continue working as normal (even if the upstream standby it's connected
  to becomes the primary node). If however the node's direct upstream fails,
  the "cascaded standby" will attempt to reconnect to that node's parent
  (unless <code class="varname">failover</code> is set to <code class="literal">manual</code> in
  <code class="filename">ltcluster.conf</code>).
 </p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ltclusterd-failover-validation.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ltclusterd-automatic-failover.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ltclusterd-primary-child-disconnection.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">10.5. Failover validation </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 10.7. Monitoring standby disconnections on the primary node</td></tr></table></div></body></html>